<%= turbo_frame_tag @card, :edit do %>
  <%= form_with model: @card, url: collection_card_path(@card.collection, @card), class: "full-width", data: { controller: "form paste" } do |form| %>
    <h1 class="card__title flex align-start gap-half">
      <%= form.label :title, class: "flex flex-column align-center" do %>
        <%= form.text_area :title, class: "input input--textarea full-width borderless fill-white txt-align-start card-field__title",
              required: true, autofocus: true, placeholder: "Name itâ€¦",
              rows: 1,
              data: { action: "keydown.enter->form#submit:prevent keydown.ctrl+enter->form#submit:prevent keydown.meta+enter->form#submit:prevent keydown.esc->form#cancel focus->form#select" } %>
      <% end %>
      <%= form.button type: :submit, class: "btn txt-small margin-block-start-half" do %>
        <%= icon_tag "check" %>
        <span class="for-screen-reader">Save</span>
      <% end %>
    </h1>
    <div class="card__description margin-block-half">
      <%= form.markdown_area :description, class: "input input--textarea full-width fill-white borderless txt-align-start card-field__description",
            placeholder: "Add some notes, context, pictures, or video about thisâ€¦",
            data: { action: "keydown.ctrl+enter->form#submit:prevent keydown.meta+enter->form#submit:prevent keydown.esc->form#cancel:stop paste->paste#pasteFiles" } %>
    </div>
    <%= link_to "Close editor and discard changes", collection_card_path(@card.collection, @card), data: { form_target: "cancel" }, hidden: true %>
  <% end %>
<% end %>
